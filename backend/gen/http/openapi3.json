{"openapi":"3.0.3","info":{"title":"FishyKeys API","description":"The FishyKeys API for key management","version":"1.0"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/key_management/create_master_key":{"post":{"tags":["fishykeys"],"summary":"create_master_key fishykeys","description":"Create a new master key and split it into shares","operationId":"fishykeys#create_master_key","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMasterKeyRequestBody"},"example":{"min_shares":3,"total_shares":5}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMasterKeyResponseBody"},"example":{"shares":["Esse laborum eligendi et.","Corporis nihil perspiciatis."]}}}},"400":{"description":"invalid_parameters: Bad Request response.","content":{"application/json":{"schema":{"type":"string","example":"Delectus eaque sequi omnis numquam voluptatem quae."},"example":"Dolores non quam voluptatem."}}},"500":{"description":"internal_error: Internal Server Error response.","content":{"application/json":{"schema":{"type":"string","example":"Magnam earum qui."},"example":"Iste et doloribus distinctio qui debitis."}}}}}},"/key_management/status":{"get":{"tags":["fishykeys"],"summary":"get_key_status fishykeys","description":"Get the current status of the master key","operationId":"fishykeys#get_key_status","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetKeyStatusResponseBody"},"example":{"current_shares":8066476239777723577,"is_locked":false,"min_shares":3509000997372032484,"total_shares":7907029206133811546}}}},"404":{"description":"no_key_set: Not Found response.","content":{"application/json":{"schema":{"type":"string","example":"Ut dignissimos rerum fugiat."},"example":"Est voluptatem pariatur voluptatem."}}},"500":{"description":"internal_error: Internal Server Error response.","content":{"application/json":{"schema":{"type":"string","example":"Id eum possimus reprehenderit cumque."},"example":"Ex ratione qui itaque."}}}}}}},"components":{"schemas":{"CreateMasterKeyRequestBody":{"type":"object","properties":{"min_shares":{"type":"integer","description":"Minimum number of shares required to reconstruct the key","example":3,"format":"int64"},"total_shares":{"type":"integer","description":"Total number of shares to create","example":5,"format":"int64"}},"example":{"min_shares":3,"total_shares":5},"required":["total_shares","min_shares"]},"CreateMasterKeyResponseBody":{"type":"object","properties":{"shares":{"type":"array","items":{"type":"string","example":"Repellendus possimus est porro pariatur sunt unde."},"description":"The generated key shares","example":["Reprehenderit blanditiis.","Cumque et ratione autem sunt.","Vitae quia enim ut.","Maxime voluptas qui quia possimus."]}},"example":{"shares":["Quia consequatur rem beatae a maxime sint.","Autem voluptate occaecati minima fugiat laboriosam.","Dolores nesciunt occaecati neque cum.","Aut aliquid et voluptates voluptas et."]}},"GetKeyStatusResponseBody":{"type":"object","properties":{"current_shares":{"type":"integer","description":"Number of shares currently held","example":5744880860108668572,"format":"int64"},"is_locked":{"type":"boolean","description":"Whether the key is currently locked","example":false},"min_shares":{"type":"integer","description":"Minimum number of shares required","example":1227130375328952448,"format":"int64"},"total_shares":{"type":"integer","description":"Total number of shares","example":6475753731807663807,"format":"int64"}},"example":{"current_shares":1402774361996137136,"is_locked":true,"min_shares":7990865461123253601,"total_shares":1708683506966023471},"required":["is_locked","current_shares","min_shares","total_shares"]}}},"tags":[{"name":"fishykeys","description":"The FishyKeys server handles master key operations"}]}