{"swagger":"2.0","info":{"title":"FishyKeys API","description":"The FishyKeys API for key management","version":"1.0"},"host":"localhost:8080","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/key_management/create_master_key":{"post":{"tags":["fishykeys"],"summary":"create_master_key fishykeys","description":"Create a new master key and split it into shares","operationId":"fishykeys#create_master_key","parameters":[{"name":"create_master_key_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/FishykeysCreateMasterKeyRequestBody","required":["total_shares","min_shares"]}}],"responses":{"201":{"description":"Created response.","schema":{"$ref":"#/definitions/FishykeysCreateMasterKeyResponseBody"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"]}},"/key_management/status":{"get":{"tags":["fishykeys"],"summary":"get_key_status fishykeys","description":"Get the current status of the master key","operationId":"fishykeys#get_key_status","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/FishykeysGetKeyStatusResponseBody","required":["is_locked","current_shares","min_shares","total_shares"]}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"]}}},"definitions":{"FishykeysCreateMasterKeyRequestBody":{"title":"FishykeysCreateMasterKeyRequestBody","type":"object","properties":{"min_shares":{"type":"integer","description":"Minimum number of shares required to reconstruct the key","example":3,"format":"int64"},"total_shares":{"type":"integer","description":"Total number of shares to create","example":5,"format":"int64"}},"example":{"min_shares":3,"total_shares":5},"required":["total_shares","min_shares"]},"FishykeysCreateMasterKeyResponseBody":{"title":"FishykeysCreateMasterKeyResponseBody","type":"object","properties":{"shares":{"type":"array","items":{"type":"string","example":"Consequatur a illum voluptas fuga voluptates sequi."},"description":"The generated key shares","example":["Recusandae sequi quis.","Magni impedit ad illo laudantium.","Saepe vitae deleniti cum incidunt aut.","Consequatur neque dolores libero."]}},"example":{"shares":["Sed officia tempora.","Eum aspernatur sint ut."]}},"FishykeysGetKeyStatusResponseBody":{"title":"FishykeysGetKeyStatusResponseBody","type":"object","properties":{"current_shares":{"type":"integer","description":"Number of shares currently held","example":1228607831227163328,"format":"int64"},"is_locked":{"type":"boolean","description":"Whether the key is currently locked","example":false},"min_shares":{"type":"integer","description":"Minimum number of shares required","example":8771973661432471715,"format":"int64"},"total_shares":{"type":"integer","description":"Total number of shares","example":6382575829910483519,"format":"int64"}},"example":{"current_shares":9131713528522802192,"is_locked":true,"min_shares":8691995693607790978,"total_shares":4593576946929668770},"required":["is_locked","current_shares","min_shares","total_shares"]}}}