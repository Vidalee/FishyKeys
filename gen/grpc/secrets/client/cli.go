// Code generated by goa v3.21.1, DO NOT EDIT.
//
// secrets gRPC client CLI support package
//
// Command:
// $ goa gen github.com/Vidalee/FishyKeys/design

package client

import (
	"encoding/json"
	"fmt"

	secretspb "github.com/Vidalee/FishyKeys/gen/grpc/secrets/pb"
	secrets "github.com/Vidalee/FishyKeys/gen/secrets"
)

// BuildOperatorGetSecretValuePayload builds the payload for the secrets
// operator get secret value endpoint from CLI flags.
func BuildOperatorGetSecretValuePayload(secretsOperatorGetSecretValueMessage string) (*secrets.OperatorGetSecretValuePayload, error) {
	var err error
	var message secretspb.OperatorGetSecretValueRequest
	{
		if secretsOperatorGetSecretValueMessage != "" {
			err = json.Unmarshal([]byte(secretsOperatorGetSecretValueMessage), &message)
			if err != nil {
				return nil, fmt.Errorf("invalid JSON for message, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"path\": \"L2N1c3RvbWVycy9nb29nbGUvYXBpX2tleQ==\"\n   }'")
			}
		}
	}
	v := &secrets.OperatorGetSecretValuePayload{
		Path: message.Path,
	}

	return v, nil
}
