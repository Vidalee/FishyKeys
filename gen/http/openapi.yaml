swagger: "2.0"
info:
    title: FishyKeys API
    description: The FishyKeys API for key management
    version: "1.0"
host: localhost:8080
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /key_management/create_master_key:
        post:
            tags:
                - key_management
            summary: create_master_key key_management
            description: Create a new master key and split it into shares
            operationId: key_management#create_master_key
            parameters:
                - name: create_master_key_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/KeyManagementCreateMasterKeyRequestBody'
                    required:
                        - total_shares
                        - min_shares
                        - admin_username
                        - admin_password
            responses:
                "201":
                    description: Created response.
                    schema:
                        $ref: '#/definitions/KeyManagementCreateMasterKeyResponseBody'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/KeyManagementCreateMasterKeyInvalidParametersResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                      $ref: '#/definitions/KeyManagementCreateMasterKeyKeyAlreadyExistsResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/KeyManagementCreateMasterKeyInternalErrorResponseBody'
            schemes:
                - http
    /key_management/share:
        post:
            tags:
                - key_management
            summary: add_share key_management
            description: Add a share to unlock the master key
            operationId: key_management#add_share
            parameters:
                - name: add_share_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/KeyManagementAddShareRequestBody'
                    required:
                        - share
            responses:
                "201":
                    description: Created response.
                    schema:
                        $ref: '#/definitions/KeyManagementAddShareResponseBody'
                        required:
                            - index
                            - unlocked
                "400":
                    description: Bad Request response.
                    schema:
                      $ref: '#/definitions/KeyManagementAddShareWrongSharesResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                      $ref: '#/definitions/KeyManagementAddShareNoKeySetResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                      $ref: '#/definitions/KeyManagementAddShareKeyAlreadyUnlockedResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                      $ref: '#/definitions/KeyManagementAddShareInternalErrorResponseBody'
            schemes:
                - http
        delete:
            tags:
                - key_management
            summary: delete_share key_management
            description: Delete a share from the key management system
            operationId: key_management#delete_share
            parameters:
                - name: delete_share_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/KeyManagementDeleteShareRequestBody'
                    required:
                        - index
            responses:
                "200":
                    description: OK response.
                "400":
                    description: Bad Request response.
                    schema:
                      $ref: '#/definitions/KeyManagementDeleteShareWrongIndexResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                      $ref: '#/definitions/KeyManagementDeleteShareNoKeySetResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                      $ref: '#/definitions/KeyManagementDeleteShareKeyAlreadyUnlockedResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                      $ref: '#/definitions/KeyManagementDeleteShareInternalErrorResponseBody'
            schemes:
                - http
    /key_management/status:
        get:
            tags:
                - key_management
            summary: get_key_status key_management
            description: Get the current status of the master key
            operationId: key_management#get_key_status
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/KeyManagementGetKeyStatusResponseBody'
                        required:
                            - is_locked
                            - current_shares
                            - min_shares
                            - total_shares
                "404":
                    description: Not Found response.
                    schema:
                      $ref: '#/definitions/KeyManagementGetKeyStatusNoKeySetResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                      $ref: '#/definitions/KeyManagementGetKeyStatusInternalErrorResponseBody'
            schemes:
                - http
    /secrets/${path}:
        get:
            tags:
                - secrets
            summary: get secret secrets
            description: Retrieve a secret's information
            operationId: secrets#get secret
            parameters:
                - name: Get SecretRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/SecretsGetSecretRequestBody'
                    required:
                      - path
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/SecretInfo'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretInvalidParametersResponseBody'
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretUnauthorizedResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretSecretNotFoundResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        type: string
            schemes:
                - http
    /secrets/${path}/value:
        get:
            tags:
                - secrets
            summary: get secret value secrets
            description: Retrieve a secret value
            operationId: secrets#get secret value
            parameters:
                - name: Get Secret ValueRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/SecretsGetSecretValueRequestBody'
                    required:
                      - path
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretValueResponseBody'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretValueInvalidParametersResponseBody'
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretValueUnauthorizedResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/SecretsGetSecretValueSecretNotFoundResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        type: string
            schemes:
                - http
    /users:
        get:
            tags:
                - users
            summary: list users users
            description: List all users
            operationId: users#list users
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/User'
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/UsersListUsersUnauthorizedResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        type: string
            schemes:
                - http
        post:
            tags:
                - users
            summary: create user users
            description: Create a new user
            operationId: users#create user
            parameters:
                - name: Create UserRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/UsersCreateUserRequestBody'
                    required:
                        - username
                        - password
            responses:
                "201":
                    description: Created response.
                    schema:
                        $ref: '#/definitions/UsersCreateUserResponseBody'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/UsersCreateUserInvalidParametersResponseBody'
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/UsersCreateUserUsernameTakenResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        type: string
            schemes:
                - http
    /users/{username}:
        delete:
            tags:
                - users
            summary: delete user users
            description: Delete a user by username
            operationId: users#delete user
            parameters:
                - name: username
                  in: path
                  description: Username of the user to delete
                  required: true
                  type: string
            responses:
                "200":
                    description: OK response.
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/UsersDeleteUserInvalidParametersResponseBody'
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/UsersDeleteUserUnauthorizedResponseBody'
                "403":
                    description: Forbidden response.
                    schema:
                        $ref: '#/definitions/UsersDeleteUserForbiddenResponseBody'
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/UsersDeleteUserUserNotFoundResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/UsersDeleteUserInternalErrorResponseBody'
            schemes:
                - http
    /users/auth:
        post:
            tags:
                - users
            summary: auth user users
            description: Authenticate a user with username and password
            operationId: users#auth user
            parameters:
                - name: Auth UserRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/UsersAuthUserRequestBody'
                    required:
                        - username
                        - password
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/UsersAuthUserResponseBody'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/UsersAuthUserInvalidParametersResponseBody'
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/UsersAuthUserUnauthorizedResponseBody'
                "500":
                    description: Internal Server Error response.
                    schema:
                        type: string
            schemes:
                - http
definitions:
  KeyManagementAddShareCouldNotRecombineResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: Could not recombine the shares to unlock the key (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementAddShareInternalErrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: Internal server error (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementAddShareInvalidParametersResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: Invalid parameters provided (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementAddShareKeyAlreadyUnlockedResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: The master key is already unlocked (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: false
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementAddShareNoKeySetResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: No master key has been set (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
    KeyManagementAddShareRequestBody:
        title: KeyManagementAddShareRequestBody
        type: object
        properties:
            share:
                type: string
                description: One of the shares need to unlock the master key
                example: EXAMPLEA5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU0
        example:
            share: EXAMPLEA5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU0
        required:
            - share
    KeyManagementAddShareResponseBody:
        title: KeyManagementAddShareResponseBody
        type: object
        properties:
            index:
                type: integer
                description: The index of the share added
                example: 6744913881541961862
                format: int64
            unlocked:
                type: boolean
                description: Whether the master key has been unlocked
                example: false
        example:
          index: 6518574107503557211
            unlocked: false
        required:
            - index
            - unlocked
  KeyManagementAddShareTooManySharesResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
              type: string
              description: ID is a unique identifier for this particular occurrence of the problem.
              example: 123abc
            message:
              type: string
              description: Message is a human-readable explanation specific to this occurrence of the problem.
              example: parameter 'p' must be an integer
            name:
              type: string
              description: Name is the name of this class of errors.
              example: bad_request
            temporary:
              type: boolean
              description: Is the error temporary?
              example: false
            timeout:
              type: boolean
              description: Is the error a timeout?
              example: true
        description: The maximum number of shares has been reached (default view)
        example:
          fault: true
          id: 123abc
          message: parameter 'p' must be an integer
          name: bad_request
          temporary: false
          timeout: false
        required:
          - name
          - id
          - message
          - temporary
          - timeout
          - fault
  KeyManagementAddShareWrongSharesResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: false
      id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
    description: The key recombined from the shares is not the correct key (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementCreateMasterKeyInternalErrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
        description: Internal server error (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    KeyManagementCreateMasterKeyInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Invalid parameters provided (default view)
        example:
          fault: false
          id: 123abc
          message: parameter 'p' must be an integer
          name: bad_request
          temporary: true
          timeout: false
        required:
          - name
          - id
          - message
          - temporary
          - timeout
          - fault
  KeyManagementCreateMasterKeyKeyAlreadyExistsResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: A master key already exists (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    KeyManagementCreateMasterKeyRequestBody:
        title: KeyManagementCreateMasterKeyRequestBody
        type: object
        properties:
            admin_password:
                type: string
                description: Admin password for key management
                example: admin_password123!
            admin_username:
                type: string
                description: Admin username for key management
                example: admin
            min_shares:
                type: integer
                description: Minimum number of shares required to reconstruct the key
                example: 3
                format: int64
            total_shares:
                type: integer
                description: Total number of shares to create
                example: 5
                format: int64
        example:
            admin_password: admin_password123!
            admin_username: admin
            min_shares: 3
            total_shares: 5
        required:
            - total_shares
            - min_shares
            - admin_username
            - admin_password
    KeyManagementCreateMasterKeyResponseBody:
        title: KeyManagementCreateMasterKeyResponseBody
        type: object
        properties:
            admin_username:
                type: string
                description: The admin user's username
                example: admin
            shares:
                type: array
                items:
                    type: string
                    example: Ex ratione qui itaque.
                description: The generated key shares
                example:
                  - EXAMPLEA5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU0
                  - EXAMPLEB5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU1
                  - EXAMPLEC5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU2
        example:
            admin_username: admin
            shares:
              - EXAMPLEA5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU0
              - EXAMPLEB5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU1
              - EXAMPLEC5ZKwDn8Zotr3B+d+F+UzrcJ1Yhl2rU2
  KeyManagementDeleteShareInternalErrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: Internal server error (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementDeleteShareKeyAlreadyUnlockedResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: The master key is already unlocked (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementDeleteShareNoKeySetResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: No master key has been set (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
    KeyManagementDeleteShareRequestBody:
        title: KeyManagementDeleteShareRequestBody
        type: object
        properties:
            index:
                type: integer
                description: The index of the share to delete
                example: 1
                format: int64
        example:
            index: 1
        required:
            - index
  KeyManagementDeleteShareWrongIndexResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: false
    description: The index provided does not match any share (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementGetKeyStatusInternalErrorResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: true
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: Internal server error (default view)
    example:
      fault: false
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: true
      timeout: true
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
  KeyManagementGetKeyStatusNoKeySetResponseBody:
    title: 'Mediatype identifier: application/vnd.goa.error; view=default'
    type: object
    properties:
      fault:
        type: boolean
        description: Is the error a server-side fault?
        example: true
      id:
        type: string
        description: ID is a unique identifier for this particular occurrence of the problem.
        example: 123abc
      message:
        type: string
        description: Message is a human-readable explanation specific to this occurrence of the problem.
        example: parameter 'p' must be an integer
      name:
        type: string
        description: Name is the name of this class of errors.
        example: bad_request
      temporary:
        type: boolean
        description: Is the error temporary?
        example: false
      timeout:
        type: boolean
        description: Is the error a timeout?
        example: true
    description: No master key has been set (default view)
    example:
      fault: true
      id: 123abc
      message: parameter 'p' must be an integer
      name: bad_request
      temporary: false
      timeout: false
    required:
      - name
      - id
      - message
      - temporary
      - timeout
      - fault
    KeyManagementGetKeyStatusResponseBody:
        title: KeyManagementGetKeyStatusResponseBody
        type: object
        properties:
            current_shares:
                type: integer
                description: Number of shares currently held
                example: 8596011842194639124
                format: int64
            is_locked:
                type: boolean
                description: Whether the key is currently locked
                example: false
            min_shares:
                type: integer
                description: Minimum number of shares required
                example: 7450857859587741566
                format: int64
            total_shares:
                type: integer
                description: Total number of shares
                example: 3000252592497270781
                format: int64
        example:
          current_shares: 8059959751435884757
            is_locked: true
          min_shares: 6597967831032783709
          total_shares: 6553916485925491878
        required:
            - is_locked
            - current_shares
            - min_shares
            - total_shares
    RoleType:
        title: RoleType
        type: object
        properties:
            id:
                type: integer
                description: Unique identifier for the role
                example: 1
                format: int64
            name:
                type: string
                description: Name of the role
                example: admin
        example:
            id: 1
            name: admin
    SecretInfo:
        title: SecretInfo
        type: object
        properties:
            authorized_members:
                type: array
                items:
                    $ref: '#/definitions/User'
                description: Members authorized to access the secret
                example:
                  - created_at: Officia tempora sed eum aspernatur sint ut.
                    updated_at: Excepturi deleniti.
                    username: Neque dolores libero temporibus omnis.
                  - created_at: Officia tempora sed eum aspernatur sint ut.
                    updated_at: Excepturi deleniti.
                    username: Neque dolores libero temporibus omnis.
                  - created_at: Officia tempora sed eum aspernatur sint ut.
                    updated_at: Excepturi deleniti.
                    username: Neque dolores libero temporibus omnis.
                  - created_at: Officia tempora sed eum aspernatur sint ut.
                    updated_at: Excepturi deleniti.
                    username: Neque dolores libero temporibus omnis.
            authorized_roles:
                type: array
                items:
                    $ref: '#/definitions/RoleType'
                description: Roles authorized to access the secret
                example:
                    - id: 1
                      name: admin
                    - id: 1
                      name: admin
                    - id: 1
                      name: admin
            created_at:
                type: string
                description: Creation timestamp of the secret
                example: "2025-06-30T12:00:00Z"
            owner:
                $ref: '#/definitions/User'
            path:
                type: string
                description: The original path of the secret
                example: customers/google/api_key
            updated_at:
                type: string
                description: Last update timestamp of the secret
                example: "2025-06-30T15:00:00Z"
        description: The secret's information
        example:
            authorized_members:
              - created_at: Officia tempora sed eum aspernatur sint ut.
                updated_at: Excepturi deleniti.
                username: Neque dolores libero temporibus omnis.
              - created_at: Officia tempora sed eum aspernatur sint ut.
                updated_at: Excepturi deleniti.
                username: Neque dolores libero temporibus omnis.
              - created_at: Officia tempora sed eum aspernatur sint ut.
                updated_at: Excepturi deleniti.
                username: Neque dolores libero temporibus omnis.
            authorized_roles:
                - id: 1
                  name: admin
                - id: 1
                  name: admin
                - id: 1
                  name: admin
            created_at: "2025-06-30T12:00:00Z"
            owner:
              created_at: Officia tempora sed eum aspernatur sint ut.
              updated_at: Excepturi deleniti.
              username: Neque dolores libero temporibus omnis.
            path: customers/google/api_key
            updated_at: "2025-06-30T15:00:00Z"
    SecretsGetSecretInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Invalid token path (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    SecretsGetSecretRequestBody:
        title: SecretsGetSecretRequestBody
        type: object
        properties:
            path:
                type: string
                description: Base64 encoded secret's path
                example: L2N1c3RvbWVycy9nb29nbGUvYXBpX2tleQ==
                minLength: 2
        example:
            path: L2N1c3RvbWVycy9nb29nbGUvYXBpX2tleQ==
        required:
            - path
    SecretsGetSecretSecretNotFoundResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Token not found (default view)
        example:
          fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
          timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    SecretsGetSecretUnauthorizedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Unauthorized access (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    SecretsGetSecretValueInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Invalid token path (default view)
        example:
          fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
          temporary: false
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    SecretsGetSecretValueRequestBody:
        title: SecretsGetSecretValueRequestBody
        type: object
        properties:
            path:
                type: string
                description: Base64 encoded secret's path
                example: L2N1c3RvbWVycy9nb29nbGUvYXBpX2tleQ==
                minLength: 2
        example:
            path: L2N1c3RvbWVycy9nb29nbGUvYXBpX2tleQ==
        required:
            - path
    SecretsGetSecretValueResponseBody:
        title: SecretsGetSecretValueResponseBody
        type: object
        properties:
            path:
                type: string
                description: The original path of the secret
                example: customers/google/api_key
            value:
                type: string
                description: The secret value
                example: SECRET_API_KEY
        example:
            path: customers/google/api_key
            value: SECRET_API_KEY
    SecretsGetSecretValueSecretNotFoundResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Token not found (default view)
        example:
          fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
          timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    SecretsGetSecretValueUnauthorizedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Unauthorized access (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    User:
        title: User
        type: object
        properties:
            created_at:
                type: string
                description: User creation timestamp
                example: Rem mollitia et est ratione.
            updated_at:
                type: string
                description: User last update timestamp
                example: Voluptates sunt quia autem laboriosam sunt.
            username:
                type: string
                description: The username
                example: Eum et eaque ipsam.
        example:
          created_at: Nesciunt architecto sint facere quos doloribus.
          updated_at: Veniam qui.
          username: Assumenda optio.
        required:
            - username
            - created_at
            - updated_at
    UsersAuthUserInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Invalid input (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
          temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersAuthUserRequestBody:
        title: UsersAuthUserRequestBody
        type: object
        properties:
            password:
                type: string
                description: Password
                example: s3cr3t
            username:
                type: string
                description: Username
                example: alice
        example:
            password: s3cr3t
            username: alice
        required:
            - username
            - password
    UsersAuthUserResponseBody:
        title: UsersAuthUserResponseBody
        type: object
        properties:
            token:
                type: string
                description: JWT or session token
                example: Quis vel reiciendis distinctio sint.
            username:
                type: string
                description: The username of the authenticated user
                example: Est pariatur dolorem laborum ratione minima maxime.
        example:
          token: Consequatur sint asperiores natus.
          username: Debitis voluptatum non ducimus natus nisi.
    UsersAuthUserUnauthorizedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Invalid username or password (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersCreateUserInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Invalid input (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersCreateUserRequestBody:
        title: UsersCreateUserRequestBody
        type: object
        properties:
            password:
                type: string
                description: Password (hashed or plain depending on implementation)
                example: s3cr3t
            username:
                type: string
                description: Username of the new user
                example: alice
                minLength: 3
        example:
            password: s3cr3t
            username: alice
        required:
            - username
            - password
    UsersCreateUserResponseBody:
        title: UsersCreateUserResponseBody
        type: object
        properties:
            id:
                type: integer
                description: Unique identifier for the user
                example: 7645663036194808677
                format: int64
            username:
                type: string
                description: The username of the created user
                example: Consequuntur non quos.
        example:
          id: 3985364364835542493
          username: Placeat dignissimos error minus.
    UsersCreateUserUsernameTakenResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Username already exists (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
          timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersDeleteUserForbiddenResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Forbidden access (default view)
        example:
            fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersDeleteUserInternalErrorResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Internal server error (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
          temporary: false
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersDeleteUserInvalidParametersResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Invalid input (default view)
        example:
          fault: false
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: false
          timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersDeleteUserUnauthorizedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: true
        description: Unauthorized access (default view)
        example:
            fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
            temporary: true
            timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersDeleteUserUserNotFoundResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: false
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: false
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: User not found (default view)
        example:
          fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
          temporary: true
          timeout: true
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
    UsersListUsersUnauthorizedResponseBody:
        title: 'Mediatype identifier: application/vnd.goa.error; view=default'
        type: object
        properties:
            fault:
                type: boolean
                description: Is the error a server-side fault?
                example: true
            id:
                type: string
                description: ID is a unique identifier for this particular occurrence of the problem.
                example: 123abc
            message:
                type: string
                description: Message is a human-readable explanation specific to this occurrence of the problem.
                example: parameter 'p' must be an integer
            name:
                type: string
                description: Name is the name of this class of errors.
                example: bad_request
            temporary:
                type: boolean
                description: Is the error temporary?
                example: true
            timeout:
                type: boolean
                description: Is the error a timeout?
                example: false
        description: Unauthorized access (default view)
        example:
          fault: true
            id: 123abc
            message: parameter 'p' must be an integer
            name: bad_request
          temporary: false
          timeout: false
        required:
            - name
            - id
            - message
            - temporary
            - timeout
            - fault
