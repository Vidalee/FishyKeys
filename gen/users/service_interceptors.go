// Code generated by goa v3.21.1, DO NOT EDIT.
//
// usersServer Interceptors
//
// Command:
// $ goa gen github.com/Vidalee/FishyKeys/design

package users

import (
	"context"

	goa "goa.design/goa/v3/pkg"
)

// ServerInterceptors defines the interface for all server-side interceptors.
// Server interceptors execute after the request is decoded and before the
// payload is sent to the service. The implementation is responsible for calling
// next to complete the request.
type ServerInterceptors interface {
	// Server-side interceptor that validates JWT token for HTTP services
	Authentified(ctx context.Context, info *AuthentifiedInfo, next goa.Endpoint) (any, error)
	// Server-side interceptor that checks if the user has admin privileges
	IsAdmin(ctx context.Context, info *IsAdminInfo, next goa.Endpoint) (any, error)
}

// Access interfaces for interceptor payloads and results
type (
	// AuthentifiedInfo provides metadata about the current interception.
	// It includes service name, method name, and access to the endpoint.
	AuthentifiedInfo struct {
		service    string
		method     string
		callType   goa.InterceptorCallType
		rawPayload any
	}
	// IsAdminInfo provides metadata about the current interception.
	// It includes service name, method name, and access to the endpoint.
	IsAdminInfo struct {
		service    string
		method     string
		callType   goa.InterceptorCallType
		rawPayload any
	}
)

// WrapListUsersEndpoint wraps the list users endpoint with the server-side
// interceptors defined in the design.
func WrapListUsersEndpoint(endpoint goa.Endpoint, i ServerInterceptors) goa.Endpoint {
	endpoint = wrapListUsersAuthentified(endpoint, i)
	return endpoint
}

// WrapDeleteUserEndpoint wraps the delete user endpoint with the server-side
// interceptors defined in the design.
func WrapDeleteUserEndpoint(endpoint goa.Endpoint, i ServerInterceptors) goa.Endpoint {
	endpoint = wrapDeleteUserIsAdmin(endpoint, i)
	return endpoint
}

// Public accessor methods for Info types

// Service returns the name of the service handling the request.
func (info *AuthentifiedInfo) Service() string {
	return info.service
}

// Method returns the name of the method handling the request.
func (info *AuthentifiedInfo) Method() string {
	return info.method
}

// CallType returns the type of call the interceptor is handling.
func (info *AuthentifiedInfo) CallType() goa.InterceptorCallType {
	return info.callType
}

// RawPayload returns the raw payload of the request.
func (info *AuthentifiedInfo) RawPayload() any {
	return info.rawPayload
}

// Service returns the name of the service handling the request.
func (info *IsAdminInfo) Service() string {
	return info.service
}

// Method returns the name of the method handling the request.
func (info *IsAdminInfo) Method() string {
	return info.method
}

// CallType returns the type of call the interceptor is handling.
func (info *IsAdminInfo) CallType() goa.InterceptorCallType {
	return info.callType
}

// RawPayload returns the raw payload of the request.
func (info *IsAdminInfo) RawPayload() any {
	return info.rawPayload
}
